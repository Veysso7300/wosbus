async function load() {
  try {
    elStatus.textContent = "Menü yükleniyor…";

    const endpoints = [
      { key: "Kahveler", url: "/data/menu/kahveler.json" },
      { key: "Tatlılar", url: "/data/menu/tatlilar.json" },
      { key: "İçecekler", url: "/data/menu/icecekler.json" },
      { key: "Yiyecekler", url: "/data/menu/yiyecekler.json" },
    ];

    const results = await Promise.all(
      endpoints.map(async (e) => {
        const res = await fetch(e.url + "?v=" + Date.now(), { cache: "no-store" });
        if (!res.ok) throw new Error(`${e.url} okunamadı: ${res.status}`);
        const data = await res.json();
        const items = Array.isArray(data.items) ? data.items : [];
        // kategori adını garanti et
        return items.map(it => ({ ...it, category: e.key }));
      })
    );

    rawItems = results.flat();

    categories = buildCats(rawItems);
    elCatSel.innerHTML = `<option value="">Tüm Kategoriler</option>` +
      categories.map(c => `<option value="${c}">${c}</option>`).join("");
    renderChips();

    elStatus.textContent = "Hazır ✅";
    apply();
  } catch (e) {
    elStatus.textContent = "Menü yüklenemedi ❌";
    elGrid.innerHTML = `<div style="color:#ffbdbd;padding:10px 4px;">Hata: ${String(e.message || e)}</div>`;
  }
}
